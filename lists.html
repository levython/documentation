<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Levython Lists - Working with arrays and collections">
    <title>Lists | Levython v1.0 Documentation</title>
    <link rel="icon" href="logo.png">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="sidebar-overlay"></div>

    <aside class="sidebar">
        <div class="sidebar-header">
            <a href="index.html" class="sidebar-logo">
                <img src="logo.png" alt="Levython" class="sidebar-logo-img">
                <span>Levython</span>
            </a>
            <div class="sidebar-version">v1.0.0 Documentation</div>
        </div>

        <div class="sidebar-search">
            <input type="text" placeholder="Search docs..." aria-label="Search documentation">
        </div>

        <nav class="sidebar-nav">
            <div class="nav-section">
                <div class="nav-section-title">Introduction</div>
                <ul class="nav-links">
                    <li><a href="index.html">Index</a></li>
                    <li><a href="about.html">About this documentation</a></li>
                    <li><a href="synopsis.html">Usage and examples</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Getting Started</div>
                <ul class="nav-links">
                    <li><a href="installation.html">Installation</a></li>
                    <li><a href="quickstart.html">Quick Start</a></li>
                    <li><a href="vscode.html">VS Code Extension</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Language Reference</div>
                <ul class="nav-links">
                    <li><a href="variables.html">Variables</a></li>
                    <li><a href="functions.html">Functions</a></li>
                    <li><a href="control-flow.html">Control Flow</a></li>
                    <li><a href="loops.html">Loops</a></li>
                    <li><a href="lists.html" class="active">Lists</a></li>
                    <li><a href="strings.html">Strings</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Core Modules</div>
                <ul class="nav-links">
                    <li><a href="io.html">I/O</a></li>
                    <li><a href="file.html">File System</a></li>
                    <li><a href="memory.html">Memory</a></li>
                    <li><a href="bitwise.html">Bitwise</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Advanced</div>
                <ul class="nav-links">
                    <li><a href="performance.html">Performance</a></li>
                </ul>
            </div>

            <div class="nav-section">
                <div class="nav-section-title">Tools</div>
                <ul class="nav-links">
                    <li><a href="cli.html">Command Line</a></li>
                    <li><a href="lpm.html">Package Manager</a></li>
                </ul>
            </div>
        </nav>
    </aside>

    <div class="layout">
        <main class="main">
            <header class="header">
                <button class="mobile-menu-btn" aria-label="Toggle menu">â˜°</button>
                <nav class="header-nav">
                    <div class="breadcrumb">
                        <a href="index.html">Levython</a> /
                        <span>Lists</span>
                    </div>
                </nav>
                <div class="header-actions">
                    <button class="theme-toggle" aria-label="Toggle theme">ðŸŒ™</button>
                    <a href="https://github.com/levython/Levython" class="github-link" target="_blank">GitHub</a>
                </div>
            </header>

            <div class="content">
                <h1>Lists</h1>

                <div class="stability stability-2">
                    <span class="stability-badge">Stable</span>
                    <span>List syntax and operations are stable in Levython 1.0.</span>
                </div>

                <p>Lists are ordered, mutable collections that can hold values of any type. Lists in Levython are 
                    dynamically-sized arrays with O(1) amortized append and O(1) random access. They use a capacity 
                    doubling strategy for efficient memory management.</p>

                <div class="toc">
                    <div class="toc-title">Table of Contents</div>
                    <ul class="toc-list">
                        <li><a href="#creating">Creating Lists</a></li>
                        <li><a href="#accessing">Accessing Elements</a></li>
                        <li><a href="#modifying">Modifying Lists</a></li>
                        <li><a href="#iterating">Iterating</a></li>
                        <li><a href="#functions">List Functions</a></li>
                        <li><a href="#slicing">List Slicing</a></li>
                        <li><a href="#multidimensional">Multidimensional Lists</a></li>
                        <li><a href="#performance">Performance Characteristics</a></li>
                    </ul>
                </div>

                <h2 id="creating">Creating Lists<a href="#creating" class="anchor">#</a></h2>

                <p>Create lists with square brackets:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code># Empty list
empty <- []

# List of numbers
numbers <- [1, 2, 3, 4, 5]

# List of strings
names <- ["Alice", "Bob", "Carol"]

# Mixed types
mixed <- [42, "hello", true, [1, 2]]</code></pre>
                </div>

                <h2 id="accessing">Accessing Elements<a href="#accessing" class="anchor">#</a></h2>

                <p>Access elements using zero-based indexing:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code>colors <- ["red", "green", "blue"]

first <- colors[0]   # "red"
second <- colors[1]  # "green"
third <- colors[2]   # "blue"

say("First color: " + first)</code></pre>
                </div>

                <h2 id="modifying">Modifying Lists<a href="#modifying" class="anchor">#</a></h2>

                <p>Add elements with <code>append()</code>:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code>fruits <- ["apple", "banana"]

# Add an element
append(fruits, "cherry")
say(str(fruits))  # ["apple", "banana", "cherry"]

# Modify by index
fruits[0] <- "apricot"
say(str(fruits))  # ["apricot", "banana", "cherry"]</code></pre>
                </div>

                <h2 id="iterating">Iterating Over Lists<a href="#iterating" class="anchor">#</a></h2>

                <p>Use <code>for</code> loops to iterate:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code>numbers <- [10, 20, 30, 40]

# Iterate by value
for num in numbers {
    say(str(num))
}

# Sum all elements
total <- 0
for n in numbers {
    total <- total + n
}
say("Sum: " + str(total))  # Sum: 100</code></pre>
                </div>

                <h2 id="functions">List Functions<a href="#functions" class="anchor">#</a></h2>

                <table>
                    <thead>
                        <tr>
                            <th>Function</th>
                            <th>Description</th>
                            <th>Time Complexity</th>
                            <th>Example</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>len(list)</code></td>
                            <td>Get list length</td>
                            <td>O(1)</td>
                            <td><code>len([1,2,3])</code> â†’ 3</td>
                        </tr>
                        <tr>
                            <td><code>append(list, item)</code></td>
                            <td>Add item to end</td>
                            <td>O(1) amortized</td>
                            <td><code>append(nums, 5)</code></td>
                        </tr>
                        <tr>
                            <td><code>str(list)</code></td>
                            <td>Convert to string</td>
                            <td>O(n)</td>
                            <td><code>str([1,2])</code> â†’ "[1, 2]"</td>
                        </tr>
                        <tr>
                            <td><code>sum(list)</code></td>
                            <td>Sum numeric elements</td>
                            <td>O(n)</td>
                            <td><code>sum([1,2,3])</code> â†’ 6</td>
                        </tr>
                        <tr>
                            <td><code>min(list)</code></td>
                            <td>Find minimum value</td>
                            <td>O(n)</td>
                            <td><code>min([3,1,2])</code> â†’ 1</td>
                        </tr>
                        <tr>
                            <td><code>max(list)</code></td>
                            <td>Find maximum value</td>
                            <td>O(n)</td>
                            <td><code>max([3,1,2])</code> â†’ 3</td>
                        </tr>
                        <tr>
                            <td><code>sorted(list)</code></td>
                            <td>Return new sorted list</td>
                            <td>O(n log n)</td>
                            <td><code>sorted([3,1,2])</code> â†’ [1,2,3]</td>
                        </tr>
                        <tr>
                            <td><code>reversed(list)</code></td>
                            <td>Return new reversed list</td>
                            <td>O(n)</td>
                            <td><code>reversed([1,2,3])</code> â†’ [3,2,1]</td>
                        </tr>
                    </tbody>
                </table>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code>items <- [1, 2, 3]

# Get length
size <- len(items)
say("Size: " + str(size))  # Size: 3

# Build a list
result <- []
for i in range(1, 6) {
    append(result, i * 2)
}
say(str(result))  # [2, 4, 6, 8, 10]

# Aggregation functions
numbers <- [5, 2, 8, 1, 9, 3]
say("Sum: " + str(sum(numbers)))        # Sum: 28
say("Min: " + str(min(numbers)))        # Min: 1
say("Max: " + str(max(numbers)))        # Max: 9
say("Sorted: " + str(sorted(numbers)))  # Sorted: [1, 2, 3, 5, 8, 9]</code></pre>
                </div>

                <h2 id="slicing">List Slicing<a href="#slicing" class="anchor">#</a></h2>

                <p>Extract sublists using slice notation (coming soon in Levython 1.1):</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code># Current workaround: Manual slicing
numbers <- [0, 1, 2, 3, 4, 5, 6, 7, 8, 9]

# Extract subset using loop
subset <- []
for i in range(2, 5) {
    append(subset, numbers[i])
}
say(str(subset))  # [2, 3, 4]</code></pre>
                </div>

                <h2 id="multidimensional">Multidimensional Lists<a href="#multidimensional" class="anchor">#</a></h2>

                <p>Lists can contain other lists, creating multidimensional structures:</p>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code># 2D matrix (3x3)
matrix <- [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]

# Access elements
first_row <- matrix[0]        # [1, 2, 3]
center <- matrix[1][1]        # 5
say("Center element: " + str(center))

# Iterate over 2D list
say("Matrix elements:")
for row in matrix {
    for cell in row {
        say("  " + str(cell))
    }
}

# 3D list (2x2x2)
cube <- [
    [[1, 2], [3, 4]],
    [[5, 6], [7, 8]]
]
element <- cube[0][1][0]  # 3
say("Cube element: " + str(element))</code></pre>
                </div>

                <h2 id="performance">Performance Characteristics<a href="#performance" class="anchor">#</a></h2>

                <p>Levython lists are implemented as dynamic arrays (C++ <code>std::vector</code> internally) with 
                    excellent performance characteristics:</p>

                <h3>Time Complexity</h3>
                <table>
                    <thead>
                        <tr>
                            <th>Operation</th>
                            <th>Complexity</th>
                            <th>Notes</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>Access by index: <code>list[i]</code></td>
                            <td>O(1)</td>
                            <td>Direct memory access</td>
                        </tr>
                        <tr>
                            <td>Append: <code>append(list, x)</code></td>
                            <td>O(1) amortized</td>
                            <td>Capacity doubling when full</td>
                        </tr>
                        <tr>
                            <td>Length: <code>len(list)</code></td>
                            <td>O(1)</td>
                            <td>Stored as metadata</td>
                        </tr>
                        <tr>
                            <td>Iteration</td>
                            <td>O(n)</td>
                            <td>Cache-friendly linear scan</td>
                        </tr>
                        <tr>
                            <td>Sort: <code>sorted(list)</code></td>
                            <td>O(n log n)</td>
                            <td>Optimized quicksort/mergesort</td>
                        </tr>
                    </tbody>
                </table>

                <h3>Memory Efficiency</h3>
                <ul>
                    <li><strong>NaN-Boxed Values:</strong> Each list element is exactly 8 bytes (13x smaller than naive implementations)</li>
                    <li><strong>Capacity Management:</strong> Lists automatically resize with 2x growth factor for O(1) amortized append</li>
                    <li><strong>Contiguous Memory:</strong> Elements stored sequentially for optimal CPU cache utilization</li>
                    <li><strong>Zero-Copy Iteration:</strong> For loops access list elements directly without allocation</li>
                </ul>

                <div class="alert alert-success">
                    <strong>Performance:</strong> Levython lists are as fast as C++ vectors. Random access is ~1-2ns per element, 
                    and iteration throughput exceeds 1GB/s on modern CPUs due to cache-friendly layout and JIT-optimized loops.
                </div>

                <h3>Best Practices</h3>

                <div class="code-block">
                    <div class="code-header">
                        <span>levython</span>
                        <div class="code-actions">
                            <button class="copy-btn">COPY</button>
                        </div>
                    </div>
                    <pre><code># Good: Pre-allocate if size is known (future feature)
# For now, append is already optimized

# Good: Use sorted() instead of manual sorting
numbers <- [5, 2, 8, 1, 9]
sorted_nums <- sorted(numbers)

# Good: Use sum() instead of manual accumulation
total <- sum(numbers)  # Faster than manual loop

# Good: Direct iteration is fastest
for item in list {
    # Process item
}

# Avoid: Repeated concatenation (creates copies)
# Better to use append() which mutates in-place</code></pre>
                </div>

                <footer class="footer">
                    <p><strong>Levython 1.0.0</strong> Â· <a href="https://github.com/levython/Levython">GitHub</a> Â· <a
                            href="https://github.com/levython/Levython/blob/main/LICENSE">MIT License</a></p>
                </footer>
            </div>
        </main>
    </div>

    <script src="script.js"></script>
</body>

</html>